<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    // let date = new Date()
    // date.setMinutes(45)
    // let dateStr = date.toUTCString()
    // console.log(dateStr)
    // let cookie = document.cookie
    // document.cookie = 'name=yaoming'
    // document.cookie = 'sex=man; expires=' + dateStr
    // console.log(document.cookie)

    //获得cookie
    function getCookie() {
        let obj = {}
        let cookieString = document.cookie
        let cookieArr = cookieString.split(';')
        console.log(cookieArr)
        cookieArr.forEach(item => {
            let tempArr = item.split('=')
            console.log(tempArr)
            let key = tempArr[0].trim()
            let value = tempArr[1]
            obj[key] = value
        })
        return obj
    }

    let cookieObj = getCookie()
    console.log(cookieObj)
//    需求，假设用户给你传输的expires是以秒为单位的
    function setCookie(key,value,expires) {
        if (!expires) {
            document.cookie = `${key}=${value}`
        } else {
            let date = new Date()
            let unix = date.getTime()
            unix = expires * 1000 + unix
            let newDateStr = new Date(unix).toUTCString()
            document.cookie = `${key}=${value}; expires=${newDateStr}`
        }
    }

    setCookie('food', 'mianShi')
    // setCookie('start', '赵丽颖', '60')
    setCookie('start', '陈乔恩', '120')

    //删除cookie
    function removeCookie(key) {
        let date = new Date().getTime()
        date = date - 1000
        let dateStr = new Date(date).toUTCString()
        document.cookie = `${key}=${value}; expires=${dateStr}`
    }
    setTimeout(() => {
        removeCookie('start')
    },10000)
</script>
</html>